{% extends 'index.html' %} 
{% block content %}



        <h1 class="title is-1"> Execute Commands here </h1>
     
        <form action="http://127.0.0.1:5000/{{name}}/execute" method="POST">

            <p class="title">Enter command : </p>

            <input class="input" type="text" name="command">
            <br> <br>
            <input class="button" type="submit">

        </form>

        <br>
<div class = "dropdown">
    <div class = "dropdown-trigger">
       <button class = "button" aria-haspopup = "true" aria-controls = "dropdown-menu">
          <span>Choose a command to execute</span>
          <span class = "icon is-small">
             <i class = "fa fa-angle-down" aria-hidden="true"></i>
          </span>
       </button>
    </div>
    <div class = "dropdown-menu" id = "dropdown-menu" role = "menu">
       <div class = "dropdown-content">
          <a href = "http://127.0.0.1:5000/{{name}}/execute?d=Get-SharpHoundZip" class = "dropdown-item">Get-SharpHoundZip</a>
          <a href = "http://127.0.0.1:5000/{{name}}/execute?d=Get-ASREPRoastable"  class = "dropdown-item">Get-ASREPRoastable</a>
          <a href = "http://127.0.0.1:5000/{{name}}/execute?d=Get-Kerberoastable" class = "dropdown-item ">Get-Kerberoastable</a>
          <a href = "http://127.0.0.1:5000/{{name}}/execute?d=Srilanka" class = "dropdown-item">Srilanka</a>
          <hr class = "dropdown-divider">
          <a href = "#" class = "dropdown-item">South Africa</a>
       </div>
    </div>
 </div>
 <script>
    //DOMContentLoaded - it fires when initial HTML document has been completely loaded
    document.addEventListener('DOMContentLoaded', function () {
       // querySelector - it returns the element within the document that matches the specified selector
       var dropdown = document.querySelector('.dropdown');
       //addEventListener - attaches an event handler to the specified element.
       dropdown.addEventListener('click', function(event) {
          //event.stopPropagation() - it stops the bubbling of an event to parent elements, by preventing parent event handlers from being executed
          event.stopPropagation();
          //classList.toggle - it toggles between adding and removing a class name from an element
          dropdown.classList.toggle('is-active');
       });
    });        
 </script>
</div><br>

       <pre>{{ cmdoutput }}</pre> 

{% endblock %}


